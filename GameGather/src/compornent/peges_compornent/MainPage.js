import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React, { useEffect, useState } from 'react';
import styles from './main_page.module.css';
import { useNavigate } from 'react-router-dom';
import GameCardList from './main_cardList';
const MainPage = () => {
    const navigate = useNavigate();
    const [posts, setPosts] = useState([]);
    useEffect(() => {
        fetch('http://localhost:5000/api/posts')
            .then(res => res.json())
            .then(data => setPosts(data));
    }, []);
    // ログインチェック
    useEffect(() => {
        if (!localStorage.getItem('isLoggedIn')) {
            navigate('/login');
        }
    }, [navigate]);
    return (_jsxs("div", { children: [_jsxs("aside", { className: styles.mainPage_leftBar, children: [_jsx("div", { className: styles.mainPage_logoContainer, children: _jsx("img", { className: styles.mainPage_logo, src: "/assets/logo/logo.svg", alt: "Game Gather \u30ED\u30B4" }) }), _jsxs("ul", { children: [_jsxs("li", { className: styles.mainPage_row, onClick: () => navigate('/'), children: [" ", _jsx("img", { className: styles.mainPage_icon, src: "/assets/icons/home_hoso.svg", alt: "" }), " ", _jsx("span", { className: styles.mainPage_link, children: "\u30DB\u30FC\u30E0" }), " "] }), _jsxs("li", { className: styles.mainPage_row, onClick: () => navigate('/tournament'), children: [" ", _jsx("img", { className: styles.mainPage_icon, src: "/assets/icons/taikai.svg", alt: "\u5927\u4F1A\u691C\u7D22" }), " ", _jsx("span", { className: styles.mainPage_link, children: "\u5927\u4F1A\u3092\u63A2\u3059" }), " "] }), _jsxs("li", { className: styles.mainPage_row, onClick: () => navigate('/recruit'), children: [" ", _jsx("img", { className: styles.mainPage_icon, src: "/assets/icons/sarch_icon.svg", alt: "" }), " ", _jsx("span", { className: styles.mainPage_link, children: "\u52DF\u96C6\u3092\u63A2\u3059" }), " "] }), _jsxs("li", { className: styles.mainPage_row, onClick: () => navigate('/chat'), children: [" ", _jsx("img", { className: styles.mainPage_icon, src: "/assets/icons/messege_icon.svg", alt: "" }), " ", _jsx("span", { className: styles.mainPage_link, children: "\u30C1\u30E3\u30C3\u30C8" }), " "] })] }), _jsx("div", { className: styles.mainPage_leftsideLow, children: _jsxs("ul", { children: [_jsxs("li", { className: styles.mainPage_row, children: [" ", _jsx("img", { className: styles.mainPage_icon, src: "/assets/icons/set_icon.svg", alt: "" }), " ", _jsx("span", { className: styles.mainPage_link, children: "\u8A2D\u5B9A" }), " "] }), _jsxs("li", { className: styles.mainPage_row, children: [" ", _jsx("img", { className: styles.mainPage_icon, src: "/assets/icons/man_icon.svg", alt: "" }), " ", _jsx("span", { className: styles.mainPage_link, children: "\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB" }), " "] })] }) })] }), _jsxs("main", { className: styles.mainPage_center, children: [_jsx(GameCardList, {}), posts.map(post => (_jsxs("div", { className: "game-card", children: [_jsx("div", { className: "card-header", children: _jsx("h3", { className: "game-title", children: post.title }) }), _jsx("div", { className: "card-body", children: _jsx("p", { className: "description", children: post.content }) }), _jsx("div", { className: "card-footer", children: _jsx("button", { className: "join-button", onClick: () => navigate('/chat'), children: "\u53C2\u52A0\u3059\u308B" }) })] }, post.id)))] }), _jsxs("aside", { className: styles.mainPage_rightBar, children: [_jsxs("div", { className: styles.mainPage_filterContainer, children: [_jsxs("div", { className: styles.mainPage_filterTabs, children: [_jsx("button", { className: styles.mainPage_tabButton, children: "\u3059\u3079\u3066" }), _jsx("button", { className: styles.mainPage_tabButton, children: "\u4EBA\u6C17" }), _jsx("button", { className: styles.mainPage_tabButton, children: "\u65B0\u7740" })] }), _jsxs("div", { children: [_jsx("h4", { children: "\u30B2\u30FC\u30E0\u3067\u7D5E\u308A\u8FBC\u3080" }), _jsx("input", { type: "text", placeholder: "\u30B2\u30FC\u30E0\u30BF\u30A4\u30C8\u30EB\u3092\u5165\u529B..." })] }), _jsxs("div", { children: [_jsx("h4", { children: "\u7A7A\u304D\u4EBA\u6570\u3067\u7D5E\u308A\u8FBC\u3080" }), _jsxs("select", { children: [_jsx("option", { value: "", children: "\u6307\u5B9A\u3057\u306A\u3044" }), _jsx("option", { value: "1", children: "1\u4EBA\u4EE5\u4E0A" }), _jsx("option", { value: "2", children: "2\u4EBA\u4EE5\u4E0A" }), _jsx("option", { value: "3", children: "3\u4EBA\u4EE5\u4E0A" }), _jsx("option", { value: "4", children: "4\u4EBA\u4EE5\u4E0A" })] })] })] }), _jsx("div", { children: _jsx("button", { onClick: () => navigate('/recruit'), children: "\u65B0\u305F\u306B\u52DF\u96C6\u3059\u308B" }) })] })] }));
};
export default MainPage;
